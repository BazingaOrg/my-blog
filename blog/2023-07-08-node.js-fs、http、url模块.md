---
slug: node.js-fs、http、url模块
title: node.js-fs、http、url模块
authors: Bazinga
tags: [javascript, node.js]
---
### 1. fs模块
```javascript
const fs = require('fs');

// readFileSync() 和 writeFileSync() 是一组可以对文件进行同步读取和写入的函数，会阻塞。
const textInSync = fs.readFileSync(path, options = { encoding: 'utf-8'} || 'utf-8');

const textOutSync = 'textOutSync';
fs.writeFileSync(path, data = textOutSync, options = { encoding: 'utf-8'} || 'utf-8');

// readFile() 和 writeFile() 是一组可以对文件进行异步读取和写入的函数， 不会阻塞。如果一个文件的读取或写入依赖另一个文件的读取结果，那么就可能会造成回调地狱。
fs.readFile(path, options = { encoding: 'utf-8'} || 'utf-8'， (err, data) => {
  // 错误先行
  if (err) return;
  console.log(data);
});

const textOut = 'textOut';
fs.writeFile(path, data = textOut, options = { encoding: 'utf-8'} || 'utf-8', err => {
  // 错误先行
  if (err) return;
});

// ps：在传入path参数是，我们可以使用node.js里面自带的__dirname来表示当前模块所处的路径。
```

### 2. http和url模块
```javascript
const http = require('http');
const url = require('url');

const hostname = '127.0.0.1';
const port = '8080';

const server = http.createServer((req, res) => {
  const { query, pathname } = url.parse(req.url, true);

  res.writeHead({200, 'Content-Type': 'application/json' });
  res.end('Hello from server!');
});

server.listen(port, hostname, () => {
  console.log(`Server running at http://${hostname}:${port}/`);
});
```